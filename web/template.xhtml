<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="fr"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <h:outputStylesheet library="css" name="pure-min.css" />
        <h:outputStylesheet library="css" name="grids-responsive-min.css" />
        <h:outputStylesheet library="css" name="side-menu.css" />
        <h:outputStylesheet library="css" name="normalize.css" />
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"/>
        <h:outputStylesheet library="css" name="jeef.css" />
        <title><ui:insert name="title">Default Title</ui:insert></title>
    </h:head>

    <h:body>
        <c:set var="current_user" value="#{loginBean.user}" />
        <c:set var="logged" value="#{current_user != null}" />
        <c:set rendered="#{logged}" var="admin" value="#{current_user.role.id == 1}" />
        <c:set rendered="#{logged}" var="moderator" value="#{current_user.role.id == 1 || current_user.role.id == 2}" />
        <div id="layout">
            <!-- Menu toggle -->
            <a href="#menu" id="menuLink" class="menu-link">
                <!-- Hamburger icon -->
                <span></span>
            </a>
            <div id="menu">
                <ui:include src="/_menu.xhtml" />
            </div>
            <div id="main">
                <div class="header">
                    <h1>
                        <ui:insert name="pretitle"></ui:insert><ui:insert name="title">Default Title</ui:insert>
                    </h1>
                    <h2>
                        <ui:insert name="secondtitle"></ui:insert>
                    </h2>
                    <h:panelGroup id="messagePanel" layout="block">
                        <h:messages globalOnly="true" errorStyle="color: red" infoStyle="color: green" layout="table"/>
                    </h:panelGroup>
                </div>
                <div class="content">
                    <br />
                    <ui:insert name="content">Default content</ui:insert>
                </div>
            </div>
        </div>
        <!--<h:outputScript library="js" name="yui-min.js" />-->
        <h:outputScript library="js" name="ui.js" />
        <script src="http://perezapp.ch/emojify/emojify.min.js"></script>
        <script>
            emojify.setConfig({
                emojify_tag_type: null, // Only run emojify.js on this element
                only_crawl_id: null, // Use to restrict where emojify.js applies
                img_dir: 'http://perezapp.ch/emojify/images/emoji', // Directory for emoji images
                ignored_tags: {// Ignore the following tags
                    'SCRIPT': 1,
                    'TEXTAREA': 1,
                    'PRE': 1,
                    'CODE': 1
                }
            });
            emojify.run();
        </script>
    </h:body>

</html>
