<ui:composition template="/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">
        <h:outputText value="#{topicController.selected.category.name} > #{topicController.selected.title}"></h:outputText>
    </ui:define>
    <ui:define name="content">
        <h:panelGrid columns="2">
            <h:outputText value="#{topicController.selected.date}" title="#{localization.ViewTopicTitle_date}">
                <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
            </h:outputText>
            <h:outputText value="#{topicController.selected.locked}" title="#{localization.ViewTopicTitle_locked}"/>
            <h:outputText value="#{topicController.selected.pinned}" title="#{localization.ViewTopicTitle_pinned}"/>
        </h:panelGrid>
        <br />
        <ui:repeat value="#{topicController.selected.postCollection}" var="post">
            <h:outputText value="##{post.id}" title="#{localization.ViewPostTitle_id}"/>
            <h:outputText value="#{post.content}" title="#{localization.ViewPostTitle_content}"/>
            <h:outputText value="#{post.createdDate}" title="#{localization.ViewPostTitle_createdDate}">
                <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
            </h:outputText>
            <h:outputText value="#{post.editedDate}" title="#{localization.ViewPostTitle_editedDate}">
                <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
            </h:outputText>
            <h:outputText value="#{post.topic}" title="#{localization.ViewPostTitle_topicId}"/>
            <h:outputText value="#{post.lastEditor.username}" title="#{localization.ViewPostTitle_lastEditorId}"/>
            <h:outputText value="#{post.creator.username}" title="#{localization.ViewPostTitle_creatorId}"/>
            <br />
        </ui:repeat>
        <h:form rendered="#{logged}">
            <h:panelGrid columns="3">
                <h:outputLabel value="#{localization.Content}" for="content" />
                <h:inputTextarea rows="4" cols="30" id="content" value="#{postController.selected.content}" title="#{localization.CreatePostTitle_content}" required="true" requiredMessage="#{localization.CreatePostRequiredMessage_content}"/>
                <h:commandLink action="#{postController.create(topicController.selected)}" value="#{localization.Post}" class="button-success pure-button"/>
            </h:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>
